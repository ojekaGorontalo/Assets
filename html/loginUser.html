<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="JeGo - Ojek Gorontalo, aplikasi ojek online dengan login OTP SMS">
    <title>JeGo - Ojek Gorontalo</title>
    <link rel="stylesheet" href="css/loginuser.css">
    <!-- Firebase CDN -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
</head>
<body>
    <div class="container">
        <!-- Logo Header -->
        <div class="logo-container">
            <div class="logo">
                <span class="logo-text">Je</span>
                <span class="logo-text-go">Go</span>
            </div>
            <p class="logo-subtitle">Ojek Gorontalo</p>
        </div>

        <!-- Login Card -->
        <div class="card" id="loginCard">
            <h2 class="card-title">Masuk ke JeGo</h2>
            
            <div class="error-message" id="errorMessage"></div>
            
            <!-- Phone Number Input -->
            <div class="form-group">
                <label for="phoneNumber" class="form-label">
                    <span class="icon">üì±</span> Nomor Telepon
                </label>
                <input type="tel" id="phoneNumber" class="form-control" 
                       placeholder="081234567890" pattern="[0-9]{10,13}">
                <small class="form-hint">Contoh: 081234567890</small>
            </div>

            <!-- OTP Input (Hidden Initially) -->
            <div id="otpSection" class="hidden">
                <div class="form-group">
                    <label class="form-label">
                        <span class="icon">üîí</span> Kode OTP
                    </label>
                    <div class="otp-container">
                        <input type="text" class="otp-input" maxlength="1" data-index="1" inputmode="numeric">
                        <input type="text" class="otp-input" maxlength="1" data-index="2" inputmode="numeric">
                        <input type="text" class="otp-input" maxlength="1" data-index="3" inputmode="numeric">
                        <input type="text" class="otp-input" maxlength="1" data-index="4" inputmode="numeric">
                        <input type="text" class="otp-input" maxlength="1" data-index="5" inputmode="numeric">
                        <input type="text" class="otp-input" maxlength="1" data-index="6" inputmode="numeric">
                    </div>
                    <p class="otp-hint">
                        Kode OTP telah dikirim via SMS
                    </p>
                </div>
            </div>

            <!-- Submit Button -->
            <button id="submitBtn" class="btn btn-primary">
                <span class="btn-text">Dapatkan Kode OTP</span>
                <span class="btn-icon">‚Üí</span>
            </button>

            <!-- Resend OTP -->
            <div id="resendSection" class="hidden">
                <p class="resend-text">
                    Tidak menerima kode? 
                    <a href="#" id="resendBtn" class="resend-link">Kirim ulang</a>
                </p>
                <p class="timer" id="timer">(60)</p>
            </div>
        </div>

        <!-- Dashboard (Hidden Initially) -->
        <div class="card hidden" id="dashboard">
            <!-- User Profile Header -->
            <div class="profile-header">
                <div class="avatar-large" id="avatarInitial">J</div>
                <div class="profile-info">
                    <h2 id="userName" class="profile-name">Pengguna JeGo</h2>
                    <p id="userPhone" class="profile-phone">+62...</p>
                    <div class="profile-stats">
                        <span class="stat">
                            <span class="stat-icon">üöó</span>
                            <span class="stat-value" id="userPerjalanan">0</span>
                        </span>
                        <span class="stat">
                            <span class="stat-icon">‚≠ê</span>
                            <span class="stat-value" id="userRating">5.0</span>
                        </span>
                    </div>
                </div>
            </div>

            <!-- Tab Navigation -->
            <div class="tab-container">
                <button class="tab active" data-tab="profile">
                    <span class="tab-icon">üë§</span>
                    <span class="tab-text">Profil</span>
                </button>
                <button class="tab" data-tab="settings">
                    <span class="tab-icon">‚öôÔ∏è</span>
                    <span class="tab-text">Pengaturan</span>
                </button>
                <button class="tab" data-tab="history">
                    <span class="tab-icon">üìã</span>
                    <span class="tab-text">Riwayat</span>
                </button>
            </div>

            <!-- Profile Tab Content -->
            <div id="profileTab" class="tab-content active">
                <div class="info-card">
                    <h3 class="info-title">Informasi Pribadi</h3>
                    
                    <div class="info-item">
                        <span class="info-label">Nama Lengkap</span>
                        <span id="infoName" class="info-value">Loading...</span>
                    </div>
                    
                    <div class="info-item">
                        <span class="info-label">Alamat</span>
                        <span id="infoAddress" class="info-value">Loading...</span>
                    </div>
                    
                    <div class="info-item">
                        <span class="info-label">Jenis Kelamin</span>
                        <span id="infoGender" class="info-value">Loading...</span>
                    </div>
                    
                    <div class="info-item">
                        <span class="info-label">Status</span>
                        <span id="infoStatus" class="info-value badge badge-active">Aktif</span>
                    </div>
                    
                    <div class="info-item">
                        <span class="info-label">Terdaftar Sejak</span>
                        <span id="infoCreatedAt" class="info-value">Loading...</span>
                    </div>
                </div>

                <div class="action-buttons">
                    <button id="editProfileBtn" class="btn btn-secondary">
                        <span class="btn-icon">‚úèÔ∏è</span>
                        <span class="btn-text">Edit Profil</span>
                    </button>
                    <button id="logoutBtn" class="btn btn-danger">
                        <span class="btn-icon">üö™</span>
                        <span class="btn-text">Keluar</span>
                    </button>
                </div>
            </div>

            <!-- Settings Tab Content -->
            <div id="settingsTab" class="tab-content">
                <div class="info-card">
                    <h3 class="info-title">Pengaturan Akun</h3>
                    
                    <div class="setting-item">
                        <span class="setting-label">Notifikasi</span>
                        <label class="switch">
                            <input type="checkbox" id="notifToggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <span class="setting-label">Tema Gelap</span>
                        <label class="switch">
                            <input type="checkbox" id="darkModeToggle">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <span class="setting-label">Bahasa</span>
                        <select class="form-control" id="languageSelect">
                            <option value="id">Bahasa Indonesia</option>
                            <option value="en">English</option>
                        </select>
                    </div>
                    
                    <div class="setting-item">
                        <span class="setting-label">Versi Aplikasi</span>
                        <span class="setting-value">v1.0.0</span>
                    </div>
                </div>
            </div>

            <!-- History Tab Content -->
            <div id="historyTab" class="tab-content">
                <div class="info-card">
                    <h3 class="info-title">Riwayat Perjalanan</h3>
                    
                    <div class="empty-state" id="emptyHistory">
                        <div class="empty-icon">üöó</div>
                        <h4>Belum ada perjalanan</h4>
                        <p>Mulai perjalanan pertama Anda dengan JeGo!</p>
                    </div>
                    
                    <div class="history-list" id="historyList">
                        <!-- History items will be added here -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Edit Profile Modal -->
        <div class="modal" id="editModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 class="modal-title">Edit Profil</h3>
                    <button class="modal-close" id="closeModalBtn">&times;</button>
                </div>
                
                <div class="modal-body">
                    <div class="form-group">
                        <label for="editName" class="form-label">Nama Lengkap</label>
                        <input type="text" id="editName" class="form-control">
                    </div>

                    <div class="form-group">
                        <label for="editAddress" class="form-label">Alamat</label>
                        <textarea id="editAddress" class="form-control" rows="3"></textarea>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Jenis Kelamin</label>
                        <div class="radio-group">
                            <label class="radio-label">
                                <input type="radio" name="gender" value="Laki-laki">
                                <span class="radio-custom"></span>
                                <span class="radio-text">Laki-laki</span>
                            </label>
                            <label class="radio-label">
                                <input type="radio" name="gender" value="Perempuan">
                                <span class="radio-custom"></span>
                                <span class="radio-text">Perempuan</span>
                            </label>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="editStatus" class="form-label">Status</label>
                        <select id="editStatus" class="form-control">
                            <option value="Aktif">Aktif</option>
                            <option value="Tidak Aktif">Tidak Aktif</option>
                            <option value="Dalam Perjalanan">Dalam Perjalanan</option>
                        </select>
                    </div>
                </div>
                
                <div class="modal-footer">
                    <button id="saveProfileBtn" class="btn btn-primary">
                        <span class="btn-text">Simpan Perubahan</span>
                    </button>
                    <button id="cancelEditBtn" class="btn btn-secondary">
                        <span class="btn-text">Batal</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Firebase Config -->
    <script src="firebase-config.js"></script>
    
    <!-- Main JavaScript -->
    <script src="js/loginUser.js"></script>
    
    <!-- Success Notification Template -->
    <template id="successTemplate">
        <div class="success-notification">
            <div class="success-icon">‚úì</div>
            <div class="success-message"></div>
        </div>
    </template>
</body>
</html>
